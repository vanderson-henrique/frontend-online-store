(this["webpackJsonpsd-0x-block15-project-frontend-online-store"]=this["webpackJsonpsd-0x-block15-project-frontend-online-store"]||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/kart.af5956c4.svg"},26:function(e,t,a){e.exports=a.p+"static/media/Logo.c77a1b60.svg"},27:function(e,t,a){e.exports=a.p+"static/media/lupa-black.a529e5ae.svg"},28:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),i=a.n(c),o=(a(33),a(2)),s=a(3),u=a(5),l=a(4),d=a(13),m=a(8),p=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.categories,a=e.onChangeCategorySelected;return r.a.createElement("div",null,t.map((function(e){var t=e.id,n=e.name;return r.a.createElement("div",{className:"categories-itens",key:t},r.a.createElement("label",{htmlFor:t,"data-testid":"category"},r.a.createElement("input",{name:"option",id:t,type:"radio",value:n,onChange:a}),n))})))}}]),a}(n.Component),h=a(1),f=a.n(h),v=a(7),b=a(6),g=a(16);function E(){var e=localStorage.getItem("cart");return JSON.parse(e)}function y(e){return O.apply(this,arguments)}function O(){return(O=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(a=e.sent,!t){e.next=13;break}return e.next=6,a.filter((function(e){return e.id!==t.id}));case 6:return n=e.sent,e.next=9,localStorage.clear();case 9:return e.next=11,localStorage.setItem("cart",JSON.stringify(Object(g.a)(n)));case 11:e.next=14;break;case 13:localStorage.clear();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){var t=[],a=E();a.find((function(t){return t.id===e.id&&t.qtt!==e.qtt?(t.qtt=e.qtt,e):""})),t=Object(g.a)(a),localStorage.setItem("cart",JSON.stringify(t)),t=[]}function k(e){var t=[],a=E();null!==a?t=a.some((function(t){return t.id===e.id}))?Object(g.a)(a):[].concat(Object(g.a)(a),[e]):t.push(e);t.length&&localStorage.setItem("cart",JSON.stringify(t)),t=[]}function C(){var e=E();e||(e=[]);return e.map((function(e){return e.qtt})).reduce((function(e,t){return e+t}),0)}var I=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).updateValue=n.updateValue.bind(Object(b.a)(n)),n.deleteProduct=n.deleteProduct.bind(Object(b.a)(n)),n}return Object(s.a)(a,[{key:"updateValue",value:function(e,t){var a=j,n=this.props,r=n.item,c=n.getStorageItens;if("sub"===e){r.qtt>1&&(r.qtt-=1),a(r)}else r.qtt+=1,a(r);this.setState({}),t(),c()}},{key:"deleteProduct",value:function(){var e=Object(v.a)(f.a.mark((function e(t,a){var n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,r=this.props.getStorageItens,c={id:n.id},e.next=5,y(c);case 5:this.setState({}),r(),a();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=a.id,c=a.title,i=a.thumbnail,o=a.price,s=a.qtt,u=t.getKartItens;return r.a.createElement("div",null,r.a.createElement("button",{id:n,type:"button",onClick:function(t){return e.deleteProduct(t,u)}},"X"),r.a.createElement("h1",{"data-testid":"shopping-cart-product-name"},c),r.a.createElement("img",{src:i,alt:c}),r.a.createElement("button",{type:"button","data-testid":"product-decrease-quantity",onClick:function(){return e.updateValue("sub",u)}},"-"),r.a.createElement("span",{"data-testid":"shopping-cart-product-quantity"},"Quantidade: ".concat(s)),r.a.createElement("button",{type:"button","data-testid":"product-increase-quantity",onClick:function(){return e.updateValue("sum",u)}},"+"),r.a.createElement("span",null,"Pre\xe7o: ".concat(o)))}}]),a}(r.a.Component),S=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.itensStorage,a=e.getStorageItens,n=e.getKartItens,c=t.map((function(e){return e.price*e.qtt})).reduce((function(e,t){return e+t}),0);return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(I,{key:e.id,item:e,getStorageItens:a,getKartItens:n})})),r.a.createElement("h1",null,"Valor Final da Compra: R$".concat(c.toFixed(2))),r.a.createElement(d.b,{"data-testid":"checkout-products",className:"button-link",to:"/pay"},"Finalizar Compra"))}}]),a}(r.a.Component),x=a(25),N=a.n(x),q=a(26),K=a.n(q),w=a(27),P=a.n(w),H=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.searchInput,a=e.onInputSearchChange,n=e.buttonSearch;return r.a.createElement("div",{className:"div-search"},r.a.createElement("input",{className:"input-search","data-testid":"query-input",type:"text",name:"inputSearch",value:t,onChange:a}),r.a.createElement("button",{className:"button-search","data-testid":"query-button",type:"submit",onClick:n},r.a.createElement("img",{src:P.a,className:"kart-icon",alt:"Bot\xe3o carrinho de compras"})))}}]),a}(r.a.Component);H.defaultProps={searchInput:""};var F=H,L=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.searchInput,a=e.onInputSearchChange,n=e.buttonSearch,c=e.qttItemsKart;return r.a.createElement("header",{className:"online-store-header"},r.a.createElement(d.b,{to:"/"},r.a.createElement("img",{src:K.a,alt:"Imagem da Logo"})),r.a.createElement(F,{searchInput:t,onInputSearchChange:a,buttonSearch:n}),r.a.createElement(d.b,{"data-testid":"shopping-cart-button",to:"/kart"},r.a.createElement("div",{className:"qtt-items-kart"},r.a.createElement("img",{src:N.a,className:"kart-icon",alt:"Bot\xe3o carrinho de compras"}),r.a.createElement("div",{className:"qtt-items-kart","data-testid":"shopping-cart-size"},c))))}}]),a}(r.a.Component);L.defaultProps={searchInput:"",onInputSearchChange:function(){},buttonSearch:function(){},qttItemsKart:0};var M=L,V=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).getStorageItens=e.getStorageItens.bind(Object(b.a)(e)),e.getKartItens=e.getKartItens.bind(Object(b.a)(e)),e.state={message:"Seu carrinho est\xe1 vazio",itensStorage:[],qttItemsKart:C()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getStorageItens()}},{key:"getStorageItens",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,this.setState({itensStorage:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getKartItens",value:function(){var e=C();this.setState({qttItemsKart:e})}},{key:"render",value:function(){var e=this.state.itensStorage,t=this.state,a=t.message,n=t.qttItemsKart;return e||(e=E()),r.a.createElement("div",{className:"kart"},r.a.createElement(M,{qttItemsKart:n}),e?r.a.createElement(S,{itensStorage:e,getStorageItens:this.getStorageItens,getKartItens:this.getKartItens}):r.a.createElement("h1",{"data-testid":"shopping-cart-empty-message"},a))}}]),a}(r.a.Component),B=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addProductCart=n.addProductCart.bind(Object(b.a)(n)),n}return Object(s.a)(a,[{key:"addProductCart",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,c,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.product,n=a.thumbnail,r=a.title,c=a.price,i=a.id,o={id:i,title:r,thumbnail:n,price:c,qtt:1},e.next=5,k(o);case 5:return e.next=7,t();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.product,n=t.getKartItens,c=a.thumbnail,i=a.title,o=a.price,s=i.substring(0,8);return r.a.createElement("div",{className:"product-card"},r.a.createElement(d.b,{"data-testid":"product-detail-link",to:"/detail/".concat(s)},r.a.createElement("div",{"data-testid":"product",className:"product-card-body"},r.a.createElement("img",{src:c,alt:"Imagem do produto",className:"product-card-img"}),r.a.createElement("h4",{className:"product-card-title"},i),r.a.createElement("h3",{className:"product-card-price"},"R$ ".concat(o)))),r.a.createElement("button",{className:"add-cart-button",type:"button","data-testid":"product-add-to-cart",id:a,onClick:function(){return e.addProductCart(n)}},"Adicionar ao Carrinho"))}}]),a}(r.a.Component);function D(){return A.apply(this,arguments)}function A(){return(A=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return J.apply(this,arguments)}function J(){return(J=Object(v.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!a){e.next=6;break}return e.next=3,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"_ID&q=").concat(a));case 3:n=e.sent,e.next=15;break;case 6:if(!t){e.next=12;break}return e.next=9,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t));case 9:n=e.sent,e.next=15;break;case 12:return e.next=14,fetch("https://api.mercadolibre.com/sites/MLB/search?q=".concat(a));case 14:n=e.sent;case 15:return r=n.json(),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.price,n=e.thumbnail;return r.a.createElement("div",{className:"product-specs"},r.a.createElement("div",{className:"product"},r.a.createElement("h3",{className:"product-specs-title","data-testid":"product-detail-name"},r.a.createElement("p",{"data-testid":"product-specs-name"},"".concat(t," - R$ ").concat(a))),r.a.createElement("img",{className:"product-specs-img",src:n,alt:"Imagem do produto"})),r.a.createElement("div",{className:"product-specs-list"},r.a.createElement("ul",null,r.a.createElement("li",null,"Especifica\xe7\xe3o 01"),r.a.createElement("li",null,"Especifica\xe7\xe3o 02"),r.a.createElement("li",null,"Especifica\xe7\xe3o 03"),r.a.createElement("li",null,"Especifica\xe7\xe3o 04"),r.a.createElement("li",null,"Especifica\xe7\xe3o 05"),r.a.createElement("li",null,"Especifica\xe7\xe3o 06"),r.a.createElement("li",null,"Especifica\xe7\xe3o 07"))))}}]),a}(r.a.Component),z=a(17),T=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).changeHandler=e.changeHandler.bind(Object(b.a)(e)),e.renderForm=e.renderForm.bind(Object(b.a)(e)),e.state={email:"",userMessage:"",evaluationRate:1},e}return Object(s.a)(a,[{key:"changeHandler",value:function(e){var t=e.target,a=t.name;this.setState(Object(z.a)({},a,t.value))}},{key:"renderForm",value:function(e){var t=e.changeHandler,a=e.userMessage,n=e.email,c=e.rating;return r.a.createElement("form",{className:"evaluation-form",id:"form-evaluation"},r.a.createElement("input",{className:"input-evaluation email-evaluation",name:"email",onChange:t,value:n,type:"email",placeholder:"Email"}),r.a.createElement("label",{className:"labels",htmlFor:"rating"},"Nota do Produto:",r.a.createElement("input",{className:"input-evaluation rating-evaluation",id:"rating",onChange:t,name:"evaluationRating",type:"number",value:c,min:"1",max:"5"})),r.a.createElement("textarea",{className:"textarea-evaluation","data-testid":"product-detail-evaluation",name:"userMessage",value:a,placeholder:"Mensagem(Opcional)",onChange:t}),r.a.createElement("button",{className:"evaluation-button",type:"button"},"Avaliar"))}},{key:"render",value:function(){var e=this.state,t=e.userMessage,a=e.email,n=e.evaluationRate;return r.a.createElement("div",{className:"form-evaluation-container"},r.a.createElement("h1",null,"Avalia\xe7\xf5es"),this.renderForm(this.changeHandler,t,a,n))}}]),a}(r.a.Component),Q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).fetchDetails=e.fetchDetails.bind(Object(b.a)(e)),e.fetchLocalStorage=e.fetchLocalStorage.bind(Object(b.a)(e)),e.updateValue=e.updateValue.bind(Object(b.a)(e)),e.getStorageItens=e.getStorageItens.bind(Object(b.a)(e)),e.getKartItens=e.getKartItens.bind(Object(b.a)(e)),e.state={item:{},loading:!0,qttItemsKart:0},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchDetails(),this.getKartItens()}},{key:"getKartItens",value:function(){var e=C();this.setState({qttItemsKart:e})}},{key:"getStorageItens",value:function(){return E()}},{key:"fetchDetails",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0},Object(v.a)(f.a.mark((function e(){var a,n,r,c,i,o,s,u,l,d,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.id,0,8,n=a.substring(0,8),e.next=6,R("",n);case 6:return r=e.sent,c=r.results[0],i=c.title,o=c.price,s=c.thumbnail,u=r.results[0].qtt,e.next=11,t.getStorageItens();case 11:null!==(l=e.sent)&&(d=l.find((function(e){return e.thumbnail===s})))&&(u=d.qtt),m={id:r.results[0].id,title:i,price:o,thumbnail:s,qtt:u},t.setState({item:m,loading:!1});case 15:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateValue",value:function(e){var t=this.state.item;if(t.qtt||(t.qtt=1),"sub"===e){t.qtt>1&&(t.qtt-=1),this.setState({item:t})}else t.qtt+=1,this.setState({item:t})}},{key:"fetchLocalStorage",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k,n=j,e.next=3,a(t);case 3:return e.next=5,n(t);case 5:return e.next=7,this.getKartItens();case 7:return e.next=9,this.setState({item:t});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.item,n=t.loading,c=t.qttItemsKart,i=a.id,o=a.title,s=a.price,u=a.thumbnail,l=a.qtt;return l||(l=1),r.a.createElement("div",{className:"product-details-container"},r.a.createElement(M,{qttItemsKart:c}),r.a.createElement("div",{className:"product-details"},n?"Loading...":r.a.createElement($,{title:o,price:s,thumbnail:u}),r.a.createElement("div",null,r.a.createElement("button",{type:"button","data-testid":"product-decrease-quantity",onClick:function(){return e.updateValue("sub")}},"-"),r.a.createElement("span",{"data-testid":"shopping-cart-product-quantity"},"Quantidade: ".concat(l)),r.a.createElement("button",{type:"button","data-testid":"product-increase-quantity",onClick:function(){return e.updateValue("sum")}},"+"),r.a.createElement("span",null,"Pre\xe7o: ".concat(s))),r.a.createElement("div",null,r.a.createElement("button",{className:"add-cart-button","data-testid":"product-detail-add-to-cart",type:"submit",onClick:function(){return e.fetchLocalStorage({id:i,title:o,thumbnail:u,price:s,qtt:l})}},"Adicionar ao Carrinho"))),r.a.createElement(T,null))}}]),a}(r.a.Component),W=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.kartProducts,t=e.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),a=e.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("img",{src:e.thumbnail,alt:"Imagem do produto"}),r.a.createElement("div",null,e.title),r.a.createElement("div",null,e.price))}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Revise seus Produtos"),a,r.a.createElement("h4",null,"Total: R$ ".concat(t)))}}]),a}(r.a.Component),X=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).changeHandler=e.changeHandler.bind(Object(b.a)(e)),e.validInput=e.validInput.bind(Object(b.a)(e)),e.state={name:"",cpf:"",email:"",phone:"",cep:"",address:"",other:"",number:0,city:"",stateCountry:""},e}return Object(s.a)(a,[{key:"validInput",value:function(){var e=this.state,t=Object.entries(e);t.forEach((function(e){"payment"!==e[0]&&(""!==e[1]&&0!==e[1]||(document.getElementById(e[0]).style.borderColor="red"))}));var a=document.getElementsByClassName("form")[0],n=document.createElement("p");return n.innerHTML="Campo de preenchimento obrigat\xf3rio",a.appendChild(n),r.a.createElement(m.a,{to:"/"})}},{key:"changeHandler",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(z.a)({},a,n))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.cpf,n=e.email,c=e.phone,i=e.cep,o=e.address,s=e.other,u=e.number,l=e.city,d=e.stateCountry;return r.a.createElement("div",{className:"form"},r.a.createElement("h2",null,"Informa\xe7\xf5es do Comprador"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"fullname"},r.a.createElement("input",{name:"name",id:"name",type:"text","data-testid":"checkout-fullname",placeholder:"Nome Completo",value:t,onChange:this.changeHandler})),r.a.createElement("div",null,r.a.createElement("input",{name:"cpf",id:"cpf",type:"text","data-testid":"checkout-email",placeholder:"CPF",value:a,onChange:this.changeHandler})),r.a.createElement("div",null,r.a.createElement("input",{name:"email",id:"email",type:"email","data-testid":"checkout-cpf",placeholder:"Email",value:n,onChange:this.changeHandler})),r.a.createElement("div",null,r.a.createElement("input",{name:"phone",id:"phone",type:"text","data-testid":"checkout-phone",placeholder:"Telefone",value:c,onChange:this.changeHandler}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("input",{name:"cep",id:"cep",type:"text","data-testid":"checkout-cep",placeholder:"CEP",value:i,onChange:this.changeHandler})),r.a.createElement("div",null,r.a.createElement("input",{name:"address",id:"address",type:"text","data-testid":"checkout-address",placeholder:"Endere\xe7o",value:o,onChange:this.changeHandler}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("input",{name:"other",id:"other",type:"text",placeholder:"Complemento",value:s,onChange:this.changeHandler})),r.a.createElement("div",null,r.a.createElement("input",{name:"number",id:"number",type:"text",placeholder:"N\xfamero",value:u,onChange:this.changeHandler})),r.a.createElement("div",null,r.a.createElement("input",{name:"city",id:"city",type:"email",placeholder:"Cidade",value:l,onChange:this.changeHandler})),r.a.createElement("div",null,r.a.createElement("input",{name:"stateCountry",id:"stateCountry",type:"select",placeholder:"Estado",value:d,onChange:this.changeHandler}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"billet"},"Boleto",r.a.createElement("input",{name:"payment",type:"radio",id:"billet",value:"billet",onChange:this.changeHandler})),r.a.createElement("label",{htmlFor:"visa"},"Visa",r.a.createElement("input",{name:"payment",type:"radio",id:"visa",value:"visa",onChange:this.changeHandler})),r.a.createElement("label",{htmlFor:"masterCard"},"MasterCard",r.a.createElement("input",{name:"payment",type:"radio",id:"masterCard",value:"masterCard",onChange:this.changeHandler})),r.a.createElement("label",{htmlFor:"elo"},"Elo",r.a.createElement("input",{name:"payment",type:"radio",id:"elo",value:"elo",onChange:this.changeHandler}))),r.a.createElement("button",{type:"button",onClick:this.validInput},"Finalizar Compra")))}}]),a}(r.a.Component),_=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).fetchLocalStorage=e.fetchLocalStorage.bind(Object(b.a)(e)),e.state={kartProducts:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchLocalStorage()}},{key:"fetchLocalStorage",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:a=e.sent,this.setState({kartProducts:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.kartProducts;return r.a.createElement("div",null,r.a.createElement(W,{kartProducts:e}),r.a.createElement(X,null))}}]),a}(r.a.Component),G=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.getKartItens;return r.a.createElement("div",{className:"product-list"},t.map((function(e){return r.a.createElement(B,{key:e.id,product:e,getKartItens:a})})))}}]),a}(r.a.Component),U=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).fetchProducts=e.fetchProducts.bind(Object(b.a)(e)),e.fetchAPI=e.fetchAPI.bind(Object(b.a)(e)),e.onInputSearchChange=e.onInputSearchChange.bind(Object(b.a)(e)),e.buttonSearch=e.buttonSearch.bind(Object(b.a)(e)),e.onChangeCategorySelected=e.onChangeCategorySelected.bind(Object(b.a)(e)),e.getKartItens=e.getKartItens.bind(Object(b.a)(e)),e.state={searchInput:"",categories:[],products:[],message:"Digite algum termo de pesquisa ou escolha uma categoria.",categorySelected:"",qttItemsKart:C()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchAPI()}},{key:"onInputSearchChange",value:function(e){var t=e.target;this.setState({searchInput:t.value})}},{key:"onChangeCategorySelected",value:function(e){var t=this,a=e.target;this.setState({categorySelected:a.id},(function(){t.fetchProducts()}))}},{key:"getKartItens",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return t=e.sent,e.next=5,this.setState({qttItemsKart:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"buttonSearch",value:function(){this.fetchProducts()}},{key:"fetchProducts",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n,r,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.searchInput,n=t.categorySelected,r=a,c=n,e.next=5,R(c,r);case 5:i=e.sent,this.setState({products:i.results});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchAPI",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D,e.t0=this,e.next=4,t();case 4:e.t1=e.sent,e.t2={categories:e.t1},e.t0.setState.call(e.t0,e.t2);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.message,a=e.searchInput,n=e.products,c=e.categories,i=e.qttItemsKart,o=r.a.createElement("h1",{"data-testid":"home-initial-message"},t);return r.a.createElement("div",{className:"initial-screen"},r.a.createElement(M,{searchInput:a,onInputSearchChange:this.onInputSearchChange,buttonSearch:this.buttonSearch,qttItemsKart:i}),r.a.createElement("div",{className:"search-text"},a?"":o),r.a.createElement("div",{className:"initial-screen-body"},r.a.createElement("div",{className:"side-bar"},r.a.createElement(p,{categories:c,onChangeCategorySelected:this.onChangeCategorySelected})),r.a.createElement(G,{products:n,getKartItens:this.getKartItens})))}}]),a}(r.a.Component),Y=(a(40),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:U}),r.a.createElement(m.b,{exact:!0,path:"/kart",component:V}),r.a.createElement(m.b,{exact:!0,path:"/detail/:id",component:Q}),r.a.createElement(m.b,{exact:!0,path:"/pay",component:_})))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.12c87de8.chunk.js.map